<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
    <style type="text/css" media="all">
       .blank_row
        {
            height: 30px; /* Overwrite any previous rules */
            background-color: #FFFFFF;
        } 
        .image { 
           float: left;
           text-align:center;
           width: 80px;
           margin-right:10px;
        }

        span { 
           color: black; 
           font: bold 20px Helvetica, Sans-Serif; 
        }
    </style>
    <title>Diputados</title>

    <script type="text/javascript" charset="utf-8">
        data = [{titulo: "hola", favor: {pan: 88.9}}];

        function createPartyNodes(party_json){
            var $nodes = $();
            for (var k in party_json){
                if (party_json.hasOwnProperty(k)) {
                    var imagen_p = $("#imagen_p").clone();
                    $(imagen_p).children("img").attr("src", k+".png");
                    $(imagen_p).children("img").attr("alt", k.toUpperCase());
                    $(imagen_p).children("span").html(party_json[k]);
                    $(imagen_p).removeAttr("id");
                    $(imagen_p).removeAttr("style");
                    $nodes = $nodes.add(imagen_p);
                }
            }

        
            return $nodes;
        }

        $(function() {
            var titulo_tr = $("#titulo_tr").clone();
            $(titulo_tr).children("td").html("hola");
            $(titulo_tr).removeAttr("id");
            $('#table > tbody:last').append(titulo_tr);

            var header_tr = $("#header_tr").clone();
            $(header_tr).removeAttr("id");
            $('#table > tbody:last').append(header_tr);

            todos_nodes = createPartyNodes({pan: 85.9, pri: 30.3});
            $("#pruba").append(todos_nodes)
            
            var votos_tr = $("#votos_tr").clone();
            $(votos_tr).children().first().append(createPartyNodes({pan: 69.9}));
            $(votos_tr).removeAttr("id");
            $('#table > tbody:last').append(votos_tr);
        });
    </script>
    
</head>
<body>
<table class="table" style="display:none">
      <tbody>
        <tr class="active" id="titulo_tr">
          <td colspan="5"></td>
        </tr>
        <tr id="header_tr">
          <td>Favor</td>
          <td>Contra</td>
          <td>Abstenci&oacute;n</td>
          <td>Qu&oacute;rum</td>
          <td>Ausente</td>
        </tr>
        <tr id="votos_tr">
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr class="blank_row"></tr>
      </tbody>
    </table>
    <p class="image" id="imagen_p" style="display:none">
        <img src="" alt=""/>
        <span></span>
    </p>
<table class="table" id="table">
      <tbody>
      </tbody>
</table>
</body>
</html>
